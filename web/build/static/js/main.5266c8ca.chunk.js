(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{151:function(e,t,n){},152:function(e,t,n){},270:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(41),i=n.n(c),s=(n(151),n(152),n(16)),l=n(12),o=n(4),u=n.n(o),d=n(8),j=n(7),b=n(290),h=n(14),m=n(123),g=new(n(44).a);console.log("production");var x="production"==="production".trim()?"https://coherence-chat.herokuapp.com":"http://localhost:5000",p=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a,r,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=g.get("token"),r={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow_Methods":"POST","Access-Control_Allow_Headers":"*","Access-Control-Allow-Origin":"*"},a&&(r.Authorization="Basic "+btoa(a+":unused")),e.next=5,fetch("".concat(x,"/").concat(t),{method:"post",headers:r,body:JSON.stringify(n)});case 5:if(!(c=e.sent).ok){e.next=11;break}return e.next=9,c.text();case 9:return i=e.sent,e.abrupt("return",JSON.parse(i));case 11:return console.log("POST call to /".concat(t," errored with status ").concat(c.status)),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a,r,c,i,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(x,"/").concat(t),a+="?".concat(m.stringify(n)),r=g.get("token"),c={Accept:"application/json","Access-Control-Allow-Methods":"GET","Access-Control-Allow-Headers":"*","Access-Control-Allow-Origin":"*"},r&&(c.Authorization="Basic "+btoa(r+":unused")),e.next=7,fetch(a,{method:"get",headers:c});case 7:if(!(i=e.sent).ok){e.next=14;break}return e.next=11,i.text();case 11:return s=e.sent,console.log(s),e.abrupt("return",JSON.parse(s));case 14:return console.log("GET call to /".concat(t," errored with status ").concat(i.status)),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(d.a)(u.a.mark((function e(t,n,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("login/new",{phoneNumber:t,secretCode:n,password:a});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("patientData/new",{calendarMonth:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("patientData/new",{phoneNumber:t,calendarMonth:n});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("calling this at least?"),e.next=3,O("user/getPaymentData",{});case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("doseWindow/update/new",{updatedDoseWindow:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("doseWindow/deactivate/new",{doseWindowId:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("user/pause/new");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("user/resume/new");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("user/healthMetrics/set",{metricList:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("user/submitPaymentInfo",{});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("attempting to cancel sub"),e.next=3,p("user/cancelSubscription",{});case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("user/renewSubscription",{});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(d.a)(u.a.mark((function e(t,n,a,r){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("user/landingPageSignup",{name:t,email:n,phoneNumber:a,trialCode:r});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),F=n(22);F.a.initialize("UA-196778289-2",{cookieFlags:"max-age=7200;SameSite=None;Secure"});var M="production"==="production".trim(),P=function(e){M&&F.a.event({category:"Churn",action:"Paused service",label:e})},I=n(72),L=n(99),N=n(311),R=n(305),W=n(312),H=n(272),Y=n(288),Z=n(313),q=n(307),G=n(308),J=n(306),K=n(291),B=n(292),$=n(294),U=n(295),Q=n(296),V=n(297),X=n(298),ee=n(5),te=(n(262),n(1)),ne=function(e){var t=e.value,n=e.onChangeTime,a=r.a.useState(t.hour),c=Object(j.a)(a,2),i=c[0],s=c[1],l=r.a.useState(t.minute),o=Object(j.a)(l,2),u=o[0],d=o[1];return Object(te.jsxs)(L.a,{direction:"row",children:[Object(te.jsx)(R.a,{options:[1,2,3,4,5,6,7,8,9,10,11,12],value:i>12?i-12:0===i?12:i,plain:!0,onChange:function(e){var t=e.value,a=i>=12?t+12:t%12;s(a),n({hour:a,minute:u})}}),Object(te.jsx)(R.a,{options:["00","15","30","45"],value:"".concat(0===u?"0":"").concat(u.toString()),plain:!0,onChange:function(e){var t=e.value;d(parseInt(t)),n({hour:i,minute:parseInt(t)})}}),Object(te.jsx)(R.a,{options:["AM","PM"],value:i>=12?"PM":"AM",plain:!0,onChange:function(e){var t=e.value,a=i;"AM"===t?i>=12&&(a=i-12,s(i-12)):i<12&&(a=i+12,s(i+12)),n({hour:a,minute:u})}})]})},ae=n(142),re=n(289),ce=n(140),ie=function(e){var t=e.animating,n=Object(ae.a)(e,["animating"]);return t?Object(te.jsx)(H.a,Object(s.a)(Object(s.a)({},n),{},{alignSelf:"center",label:null,disabled:!0,children:Object(te.jsx)(re.a,{color:Object(ce.get)(n,"background.dark",!1)?"#FFF":"brand"})})):Object(te.jsx)(H.a,Object(s.a)(Object(s.a)({},n),{},{children:n.children}))},se=function(){var e=Object(b.a)(["token"]),t=Object(j.a)(e,3),n=t[0],a=t[1],c=t[2],i=r.a.useState(null),o=Object(j.a)(i,2),m=o[0],g=o[1],x=r.a.useState(5),p=Object(j.a)(x,2),O=p[0],f=p[1],y=r.a.useState(null),T=Object(j.a)(y,2),D=T[0],A=T[1],E=r.a.useState(null),ae=Object(j.a)(E,2),re=ae[0],ce=ae[1],se=r.a.useState(null),le=Object(j.a)(se,2),oe=le[0],ue=le[1],de=r.a.useState(null),je=Object(j.a)(de,2),be=je[0],he=je[1],me=r.a.useState(null),ge=Object(j.a)(me,2),xe=ge[0],pe=ge[1],Oe=r.a.useState(null),fe=Object(j.a)(Oe,2),we=fe[0],ve=fe[1],ye=r.a.useState({label:"all time",value:null}),ke=Object(j.a)(ye,2),ze=ke[0],Se=ke[1],Ce=Object(h.g)();console.log(ze);var _e=r.a.useState(!1),Te=Object(j.a)(_e,2),De=Te[0],Ae=Te[1],Ee=[ee.DateTime.local(2021,4,1),ee.DateTime.local(2021,5,31)],Fe=r.a.useCallback(Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("data load"),t=null,!re){e.next=8;break}return e.next=5,v(re.value,O);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,w(O);case 10:t=e.sent;case 11:if(null!==t){e.next=16;break}return console.log("removing token"),c("token"),e.abrupt("return");case 16:console.log(t),g(t),null===t.impersonateList&&(n=t.patientId,M&&F.a.event({category:"Engagement",action:"Loaded homepage",label:n})),a("token",t.token,{secure:!0}),t.impersonateList&&A(t.impersonateList.map((function(e){return{label:e[0],value:e[1]}}))),Ae(!1);case 22:case"end":return e.stop()}var n}),e)}))),[O,re,c,a]),Me=r.a.useMemo((function(){return console.log(n),n.token?null===m||(m.month!==O||(!!re!==!!m.impersonating||!(!re||!m.impersonating||m.phoneNumber===re.value))):(console.log("not loading because token is empty."),!1)}),[O,n.token,re,m]);r.a.useEffect((function(){console.log("rerendering"),Me&&Fe()}),[Fe,Me]);var Pe=r.a.useCallback((function(e){var t=e.date,n=null,a=ee.DateTime.fromJSDate(t),r=a.day;if(null!==m&&m.eventData.length>=r){var c=m.eventData[r-1];a.month===O&&("taken"===c.day_status?n="status-ok":"missed"===c.day_status?n="status-error":"skip"===c.day_status&&(n="status-warning"))}return Object(te.jsx)(L.a,{align:"center",justify:"center",margin:{vertical:"xsmall"},children:Object(te.jsx)(L.a,{width:"30px",height:"30px",round:"medium",background:{color:n},align:"center",justify:"center",children:Object(te.jsx)(N.a,{children:r})})})}),[O,m]),Ie=r.a.useMemo((function(){var e={weight:"pounds",glucose:"mg/dL","blood pressure":"mm/hg"},t={};if(null!==m)for(var n in m.healthMetricData){var a=m.healthMetricData[n];console.log(a),t[n]="blood pressure"!==n?{datasets:[{data:a.map((function(e){return{x:ee.DateTime.fromHTTP(e.time),y:e.value}})),label:n,fill:!1,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgba(255, 99, 132, 0.2)"}],options:{scales:{x:{type:"time",time:{unit:"day"},grid:{color:["#777"]},ticks:{color:"#FFF"},min:null!==ze.value?ee.DateTime.local().minus({days:ze.value}).toISODate():null},y:{grid:{color:["#AAA"]},ticks:{color:"#FFF"},title:{text:e[n],display:!0,color:"#FFF"}}},color:"white",plugins:{legend:{display:!1}},elements:{point:{hitRadius:10,hoverRadius:10}},showLine:!0}}:{datasets:[{data:a.map((function(e){return{x:ee.DateTime.fromHTTP(e.time),y:e.value.systolic}})),label:"systolic",fill:!1,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgba(255, 99, 132, 0.2)"},{data:a.map((function(e){return{x:ee.DateTime.fromHTTP(e.time),y:e.value.diastolic}})),label:"diastolic",fill:!1,backgroundColor:"rgb(99, 255, 132)",borderColor:"rgba(99, 255, 132, 0.2)"}],options:{scales:{x:{type:"time",time:{unit:"day"},grid:{color:["#777"]},ticks:{color:"#FFF"},min:null!==ze.value?ee.DateTime.local().minus({days:ze.value}).toISODate():null},y:{grid:{color:["#AAA"]},ticks:{color:"#FFF"},title:{text:e[n],display:!0,color:"#FFF"}}},color:"white",plugins:{datalabels:{color:"black"}},elements:{point:{hitRadius:10,hoverRadius:10}},showLine:!0}}}return console.log("returned HM data:"),console.log(t),t}),[m,ze]),Le=r.a.useCallback((function(e){return console.log(e),e.label}),[]),Ne=function(e){return e.hour<4?e.plus({days:1}):e},Re=r.a.useMemo((function(){if(console.log("recomputing"),null===be)return!0;if(null===m)return!0;var e=Ne(ee.DateTime.utc(2021,5,1,be.start_hour,be.start_minute).setZone("local").set({month:5,day:1})),t=Ne(ee.DateTime.utc(2021,5,1,be.end_hour,be.end_minute).setZone("local").set({month:5,day:1}));if(t<e.plus({minutes:30}))return!1;var n,a=Object(l.a)(m.doseWindows);try{for(a.s();!(n=a.n()).done;){var r=n.value;if(r.id!==be.id){var c=Ne(ee.DateTime.utc(2021,5,1,r.start_hour,r.start_minute).setZone("local").set({month:5,day:1})),i=Ne(ee.DateTime.utc(2021,5,1,r.end_hour,r.end_minute).setZone("local").set({month:5,day:1}));if(e<=c&&c<=t)return!1;if(e<=i&&i<=t)return!1}}}catch(s){a.e(s)}finally{a.f()}return!0}),[be,m]),We=r.a.useMemo((function(){var e=ee.DateTime.local();return e.hour>4&&e.hour<12?"morning":e.hour>12&&e.hour<18?"afternoon":"evening"}),[]),He=r.a.useMemo((function(){var e=ee.DateTime.local();return O===e.month?e:e.set({month:O,day:1})}),[O]),Ye=r.a.useMemo((function(){return(e=["\ud83d\udcab","\ud83c\udf08","\ud83c\udf31","\ud83c\udfc6","\ud83d\udcc8","\ud83d\udc8e","\ud83d\udca1","\ud83d\udd06","\ud83d\udd14"])[Math.floor(e.length*Math.random())];var e}),[]),Ze=r.a.useCallback((function(){if(null===m)return null;var e=ee.DateTime.utc(2021,5,1,be.start_hour,be.start_minute),t=ee.DateTime.utc(2021,5,1,be.end_hour,be.end_minute);return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(N.a,{size:"small",margin:{bottom:"none"},children:"Start time (earliest time you'll be reminded)"}),Object(te.jsx)(ne,{value:e.setZone("local"),color:"dark-3",onChangeTime:function(e){var t=ee.DateTime.local(2021,5,1,e.hour,e.minute).setZone("UTC");he(Object(s.a)(Object(s.a)({},be),{},{start_hour:t.hour,start_minute:t.minute}))}}),Object(te.jsx)(N.a,{size:"small",margin:{bottom:"none"},children:"End time (latest time you'll be reminded)"}),Object(te.jsx)(ne,{value:t.setZone("local"),color:"dark-3",onChangeTime:function(e){console.log("changed time to ".concat(JSON.stringify(e)));var t=ee.DateTime.local(2021,5,1,e.hour,e.minute).setZone("UTC");he(Object(s.a)(Object(s.a)({},be),{},{end_hour:t.hour,end_minute:t.minute}))}}),Object(te.jsx)(ie,{onClick:Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ae(!0),console.log("set animating"),e.next=4,k(be);case 4:return e.next=6,Fe();case 6:he(null),null===D&&(t=m.patientId,M&&F.a.event({category:"Engagement",action:"Submit edited dose window",label:t}));case 8:case"end":return e.stop()}var t}),e)}))),label:Re?be.id?"Update":"Create":"Invalid dose window",disabled:!Re,animating:De}),be.id?Object(te.jsx)(ie,{onClick:function(){var e;pe(be),null===D&&(e=m.patientId,M&&F.a.event({category:"Engagement",action:"Start deleting dose window",label:e}))},disabled:De,size:"small",padding:{horizontal:"none"},margin:{top:"medium"},label:"Delete dose window",color:"status-error",plain:!0,alignSelf:"center"}):null]})}),[De,be,D,Fe,m,Re]);if(!n.token)return Object(te.jsx)(h.a,{to:"/login"});if(null!==m&&["payment_method_requested"].includes(m.state))return Object(te.jsx)(h.a,{to:"/payment"});if(null!==m&&["intro","dose_windows_requested","dose_window_times_requested","timezone_requested"].includes(m.state))return Object(te.jsx)(h.a,{to:"/finishOnboarding"});return console.log(ze.label),Object(te.jsxs)(L.a,{children:[null!==D?Object(te.jsxs)(L.a,{direction:"row",align:"center",gap:"small",pad:{horizontal:"medium"},children:[Object(te.jsx)(N.a,{children:"Impersonating:"}),Object(te.jsx)(R.a,{options:D,children:Le,onChange:function(e){var t=e.option;console.log("setting"),ce(t)}})]}):null,m&&m.earlyAdopterStatus?Object(te.jsx)(L.a,{align:"center",background:"brand",justify:"evenly",children:Object(te.jsxs)(L.a,{direction:"row",justify:"center",align:"center",children:[Object(te.jsx)(N.a,{size:"small",margin:{right:"small"},children:"COHERENCE EARLY ADOPTER"}),Object(te.jsx)(K.a,{})]})}):null,Object(te.jsx)(L.a,{align:"center",children:Object(te.jsxs)(W.a,{size:"small",children:["Good ",We,m?", ".concat(m.patientName):"","."]})}),m&&"subscription_expired"===m.state?Object(te.jsxs)(L.a,{align:"center",background:{color:"status-error",dark:!0},round:"medium",margin:{horizontal:"large",bottom:"medium"},pad:"medium",children:[Object(te.jsxs)(N.a,{textAlign:"center",margin:{vertical:"none"},children:["Your subscription expired on ",ee.DateTime.fromHTTP(m.subscriptionEndDate).toLocaleString(ee.DateTime.DATE_MED),"."]}),Object(te.jsx)(H.a,{label:"Renew subscription",onClick:function(){Ce.push("/payment")},margin:{top:"small"}})]}):null,Object(te.jsx)(L.a,{children:m&&m.takeNow?Object(te.jsx)(L.a,{align:"center",background:{color:"status-warning",dark:!0},round:"medium",margin:{horizontal:"large"},pad:{vertical:"medium"},animation:{type:"pulse",size:"medium",duration:2e3},children:Object(te.jsx)(N.a,{alignSelf:"center",margin:{vertical:"none"},children:"Dose to take now!"})}):Object(te.jsx)(L.a,{align:"center",background:{color:"brand",dark:!0},round:"medium",margin:{horizontal:"large"},children:Object(te.jsxs)(N.a,{children:["No doses to take right now. ",Ye]})})}),Object(te.jsx)(L.a,{margin:{vertical:"medium"},pad:{horizontal:"large"},children:Object(te.jsx)(Y.a,{icon:Object(te.jsx)(B.a,{}),label:"How do I use Coherence?",dropContent:Object(te.jsxs)(L.a,{pad:{horizontal:"small"},children:[Object(te.jsx)(N.a,{textAlign:"center",children:"Texting commands"}),Object(te.jsxs)(Z.a,{columns:["xsmall","small"],align:"center",justifyContent:"center",gap:{column:"small"},children:[Object(te.jsx)(N.a,{size:"small",children:"T, taken"}),Object(te.jsx)(N.a,{size:"small",children:"Mark your medication as taken at the current time"}),Object(te.jsx)(N.a,{size:"small",children:"T @ 5:00pm"}),Object(te.jsx)(N.a,{size:"small",children:"Mark your medication as taken at 5pm"}),Object(te.jsx)(N.a,{size:"small",children:"S, skip"}),Object(te.jsx)(N.a,{size:"small",children:"Skip the current dose"}),Object(te.jsx)(N.a,{size:"small",children:"1"}),Object(te.jsx)(N.a,{size:"small",children:"Delay the reminder by ten minutes"}),Object(te.jsx)(N.a,{size:"small",children:"2"}),Object(te.jsx)(N.a,{size:"small",children:"Delay the reminder by half an hour"}),Object(te.jsx)(N.a,{size:"small",children:"3"}),Object(te.jsx)(N.a,{size:"small",children:"Delay the reminder by an hour"}),Object(te.jsx)(N.a,{size:"small",children:"20, 20 min"}),Object(te.jsx)(N.a,{size:"small",children:"Delay the reminder by 20 minutes"}),Object(te.jsx)(N.a,{size:"small",children:"glucose:140, 140 mg/dL"}),Object(te.jsx)(N.a,{size:"small",children:"Record glucose reading"}),Object(te.jsx)(N.a,{size:"small",children:"weight:150, 150 pounds, 150 lb"}),Object(te.jsx)(N.a,{size:"small",children:"Record weight reading"}),Object(te.jsx)(N.a,{size:"small",children:"120/80, 120 80"}),Object(te.jsx)(N.a,{size:"small",children:"Record blood pressure reading"}),Object(te.jsx)(N.a,{size:"small",children:"W, website, site"}),Object(te.jsx)(N.a,{size:"small",children:"Get the website link sent to you"}),Object(te.jsx)(N.a,{size:"small",children:"Eating, going for a walk"}),Object(te.jsx)(N.a,{size:"small",children:"Tell Coherence you're busy with an activity"}),Object(te.jsx)(N.a,{size:"small",children:"X"}),Object(te.jsx)(N.a,{size:"small",children:"Report an error"})]})]}),dropAlign:{top:"bottom"}})}),Object(te.jsxs)(L.a,{pad:"medium",background:{color:"light-3"},children:[Object(te.jsx)(N.a,{textAlign:"center",margin:{vertical:"none"},fill:!0,children:"Medication history"}),Object(te.jsx)(q.a,{date:He.toISO(),fill:!0,onSelect:function(e){var t,n=ee.DateTime.fromISO(e);ue(n.day),null===D&&(t=m.patientId,M&&F.a.event({category:"Engagement",action:"Viewed day details",label:t}))},showAdjacentDays:!1,bounds:Ee.map((function(e){return e.toString()})),children:Pe,daysOfWeek:!0,onReference:function(e){f(ee.DateTime.fromISO(e).month),g(Object(s.a)(Object(s.a)({},m),{},{eventData:[]}))},animate:!1})]}),oe&&Object(te.jsx)(G.a,{onEsc:function(){return ue(!1)},onClickOutside:function(){return ue(!1)},responsive:!1,children:Object(te.jsxs)(L.a,{width:"70vw",pad:"large",children:[Object(te.jsxs)(L.a,{direction:"row",justify:"between",children:[Object(te.jsxs)(N.a,{size:"large",children:[ee.DateTime.local().set({month:O}).monthLong," ",oe]}),Object(te.jsx)(H.a,{icon:Object(te.jsx)($.a,{}),onClick:function(){return ue(!1)}})]}),m.eventData[oe-1].day_status?Object.keys(m.eventData[oe-1].time_of_day).sort((function(e,t){return e===t?0:"morning"===e||"afternoon"===e&&"evening"===t?-1:1})).map((function(e){var t=m.eventData[oe-1].time_of_day[e].length>1;return m.eventData[oe-1].time_of_day[e].map((function(n,a){return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)(N.a,{margin:{bottom:"none"},children:[e," dose",t?" ".concat(a+1):""]},"tod-".concat(e)),Object(te.jsxs)(L.a,{pad:{left:"medium"},direction:"row",align:"center",justify:"between",children:[Object(te.jsxs)(N.a,{size:"small",children:[n.type,n.time?" at ".concat(ee.DateTime.fromJSDate(new Date(n.time)).toLocaleString(ee.DateTime.TIME_SIMPLE)):""]},"todStatus-".concat(e)),"taken"===n.type?Object(te.jsx)(U.a,{color:"status-ok",size:"small"}):null,"skipped"===n.type?Object(te.jsx)(Q.a,{color:"status-warning",size:"small"}):null,"missed"===n.type?Object(te.jsx)($.a,{color:"status-error",size:"small"}):null]},"todStatusContainer-".concat(e))]})}))})):Object(te.jsx)(N.a,{children:"No data for this day."})]})}),Object(te.jsxs)(L.a,{align:"center",background:"brand",pad:{bottom:"large"},children:[Object(te.jsx)(N.a,{margin:{bottom:"none"},children:"Health tracking"}),0===Object.keys(Ie).length?Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(N.a,{size:"small",children:"You're not tracking any health metrics yet."}),Object(te.jsx)(N.a,{size:"small",textAlign:"center",children:"Tracking is a brand new feature that allows you to text us health data such as blood pressure, weight, or glucose. You can then view your historical data here at any time."})]}):null,0!==Object.keys(Ie).length?Object(te.jsx)(L.a,{margin:{top:"small"},children:Object(te.jsx)(R.a,{options:[{label:"week",value:7},{label:"month",value:30},{label:"3 months",value:90},{label:"year",value:365},{label:"all time",value:null}],children:function(e){return Object(te.jsx)(N.a,{margin:"small",children:e.label})},onChange:function(e){var t=e.value;Se(t)},valueLabel:Object(te.jsx)(N.a,{margin:{vertical:"xsmall",horizontal:"small"},children:ze.label})})}):null,Ie&&"blood pressure"in Ie?Object(te.jsxs)(L.a,{pad:{horizontal:"large"},fill:"horizontal",children:[Object(te.jsx)(N.a,{size:"small",margin:{bottom:"none"},children:"Blood pressure"}),Ie["blood pressure"].datasets[0].data.length>0?Object(te.jsx)(I.a,{data:{datasets:Ie["blood pressure"].datasets},options:Ie["blood pressure"].options}):Object(te.jsx)(N.a,{alignSelf:"center",size:"small",children:'No blood pressure data recorded yet. Example texts you can send: "120/80", "120 80".'})]}):null,Ie&&"weight"in Ie?Object(te.jsxs)(L.a,{pad:{horizontal:"large"},fill:"horizontal",children:[Object(te.jsx)(N.a,{size:"small",margin:{bottom:"none"},children:"Weight"}),Ie.weight.datasets[0].data.length>0?Object(te.jsx)(I.a,{data:{datasets:Ie.weight.datasets},options:Ie.weight.options}):Object(te.jsx)(N.a,{alignSelf:"center",size:"small",children:'No weight data recorded yet. Example texts you can send: "weight:150", "150 lb", "150 pounds".'})]}):null,Ie&&"glucose"in Ie?Object(te.jsxs)(L.a,{pad:{horizontal:"large"},fill:"horizontal",children:[Object(te.jsx)(N.a,{size:"small",margin:{bottom:"none"},children:"Glucose"}),Ie.glucose.datasets[0].data.length>0?Object(te.jsx)(I.a,{data:{datasets:Ie.glucose.datasets},options:Ie.glucose.options}):Object(te.jsx)(N.a,{alignSelf:"center",size:"small",children:'No glucose data recorded yet. Example texts you can send: "glucose:140", "140 mg/dL"'})]}):null,Object(te.jsx)(H.a,{label:0===Object.keys(Ie).length?"Start tracking":"Edit tracking",onClick:function(){var e;ve(Object.keys(Ie)),null===D&&(e=m.patientId,M&&F.a.event({category:"Engagement",action:"Start editing health metrics",label:e}))},margin:{top:"medium"}})]}),null!==we?Object(te.jsx)(G.a,{onEsc:function(){return ve(null)},onClickOutside:function(){return ve(null)},responsive:!1,children:Object(te.jsxs)(L.a,{width:"70vw",pad:"large",children:[Object(te.jsxs)(L.a,{direction:"row",justify:"between",children:[Object(te.jsx)(N.a,{size:"large",children:"Choose what you want to track"}),Object(te.jsx)(H.a,{icon:Object(te.jsx)($.a,{}),onClick:function(){return ve(null)}})]}),Object(te.jsx)(J.a,{options:["blood pressure","weight","glucose"],value:we,onChange:function(e){ve(e.value)}}),Object(te.jsx)(ie,{animating:De,label:"Save changes",margin:{top:"medium"},onClick:Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ae(!0),console.log(we),e.next=4,_(we);case 4:return e.next=6,Fe();case 6:ve(null),null===D&&(t=m.patientId,M&&F.a.event({category:"Engagement",action:"Submit editing health metrics",label:t}));case 8:case"end":return e.stop()}var t}),e)})))})]})}):null,Object(te.jsxs)(L.a,{align:"center",pad:{vertical:"medium"},margin:{horizontal:"xlarge"},border:"bottom",children:[Object(te.jsx)(N.a,{textAlign:"center",margin:{vertical:"none"},children:"Dose windows"}),m?m.doseWindows.map((function(e){var t=ee.DateTime.utc(2021,5,1,e.start_hour,e.start_minute),n=ee.DateTime.utc(2021,5,1,e.end_hour,e.end_minute);return Object(te.jsxs)(Z.a,{columns:["small","flex","flex"],align:"center",pad:{horizontal:"large"},alignContent:"center",justifyContent:"center",justify:"center",children:[Object(te.jsxs)(L.a,{direction:"row",align:"center",children:[Object(te.jsx)(N.a,{children:t.setZone("local").toLocaleString(ee.DateTime.TIME_SIMPLE)}),Object(te.jsx)(V.a,{}),Object(te.jsx)(N.a,{children:n.setZone("local").toLocaleString(ee.DateTime.TIME_SIMPLE)})]}),Object(te.jsx)(H.a,{label:"edit",onClick:function(){var t;he(e),null===D&&(t=m.patientId,M&&F.a.event({category:"Engagement",action:"Start editing dose window",label:t}))},size:"small",margin:{horizontal:"none"}})]},"doseWindowContainer-".concat(e.id))})):null,Object(te.jsx)(H.a,{label:"Add dose window",onClick:function(){var e;he({start_hour:0,start_minute:0,end_hour:0,end_minute:0}),null===D&&(e=m.patientId,M&&F.a.event({category:"Engagement",action:"Start adding dose window",label:e}))},icon:Object(te.jsx)(X.a,{})})]}),be&&Object(te.jsx)(G.a,{onEsc:function(){return he(null)},onClickOutside:function(){return he(null)},responsive:!1,children:Object(te.jsxs)(L.a,{width:"90vw",pad:"large",children:[Object(te.jsxs)(L.a,{direction:"row",justify:"between",children:[Object(te.jsx)(N.a,{size:"large",children:"Edit dose window"}),Object(te.jsx)(H.a,{icon:Object(te.jsx)($.a,{}),onClick:function(){return he(null)}})]}),Object(te.jsx)(L.a,{children:Ze(be)})]})}),xe&&Object(te.jsx)(G.a,{onEsc:function(){return pe(null)},onClickOutside:function(){return pe(null)},responsive:!1,children:Object(te.jsxs)(L.a,{width:"90vw",pad:"large",children:[Object(te.jsxs)(L.a,{direction:"row",justify:"between",children:[Object(te.jsx)(N.a,{size:"large",children:"Confirm delete dose window"}),Object(te.jsx)(H.a,{icon:Object(te.jsx)($.a,{}),onClick:function(){return pe(null)}})]}),Object(te.jsxs)(L.a,{align:"center",children:[Object(te.jsx)(N.a,{margin:{bottom:"none"},children:"You're about to delete the dose window"}),Object(te.jsxs)(L.a,{direction:"row",align:"center",margin:{bottom:"medium"},children:[Object(te.jsx)(N.a,{children:ee.DateTime.utc(2021,5,1,xe.start_hour,xe.start_minute).setZone("local").toLocaleString(ee.DateTime.TIME_SIMPLE)}),Object(te.jsx)(V.a,{}),Object(te.jsx)(N.a,{children:ee.DateTime.utc(2021,5,1,xe.end_hour,xe.end_minute).setZone("local").toLocaleString(ee.DateTime.TIME_SIMPLE)})]}),Object(te.jsx)(ie,{onClick:Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ae(!0),e.next=3,z(xe.id);case 3:return e.next=5,Fe();case 5:pe(null),he(null),null===D&&(t=m.patientId,M&&F.a.event({category:"Engagement",action:"Submit deleting dose window",label:t}));case 8:case"end":return e.stop()}var t}),e)}))),label:"Confirm",animating:De})]})]})}),Object(te.jsx)(L.a,{align:"center",pad:{vertical:"medium"},children:m?Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(N.a,{textAlign:"center",margin:{vertical:"none"},children:"Pause / resume Coherence"}),Object(te.jsxs)(N.a,{size:"small",color:"dark-3",children:["Coherence is currently ",m.pausedService?"paused":"active","."]}),Object(te.jsx)(ie,{background:m.pausedService?{dark:!0}:null,animating:De,style:{padding:"10px"},primary:m.pausedService,onClick:Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ae(!0),!m.pausedService){e.next=7;break}return e.next=4,C();case 4:null===D&&(t=m.patientId,M&&F.a.event({category:"Growth",action:"Resumed service",label:t})),e.next=10;break;case 7:return e.next=9,S();case 9:null===D&&P(m.patientId);case 10:Fe();case 11:case"end":return e.stop()}var t}),e)}))),label:"".concat(m.pausedService?"Resume":"Pause"," Coherence"),disabled:"subscription_expired"===m.state}),m.pausedService?Object(te.jsx)(N.a,{size:"small",color:"status-warning",textAlign:"center",children:"While Coherence is paused, we can't respond to any texts you send us, or remind you about your medications."}):null]}):null}),Object(te.jsxs)(L.a,{align:"center",pad:{vertical:"medium"},margin:{horizontal:"xlarge"},border:"top",children:[Object(te.jsx)(N.a,{textAlign:"center",margin:{vertical:"none"},children:"Need help with anything?"}),Object(te.jsx)(N.a,{size:"small",color:"dark-3",children:"Our customer service is just a text away at (650) 667-1146. Reach out any time and we'll get back to you in a few hours!"})]}),Object(te.jsxs)(L.a,{align:"center",pad:{vertical:"medium"},margin:{horizontal:"xlarge"},border:"top",direction:"row",justify:m&&m.earlyAdopterStatus?"center":"between",children:[m&&!m.earlyAdopterStatus?Object(te.jsx)(H.a,{onClick:function(){Ce.push("/payment")},label:"Manage subscription",size:"small"}):null,Object(te.jsx)(H.a,{onClick:function(){c("token")},label:"Log out",size:"small"})]})]})},le=n(310),oe=n(299),ue=n(300),de=n(301),je=function(){var e=Object(h.g)(),t=r.a.useState(""),n=Object(j.a)(t,2),a=n[0],c=n[1],i=r.a.useState(""),s=Object(j.a)(i,2),l=s[0],o=s[1],m=r.a.useState(""),g=Object(j.a)(m,2),x=g[0],p=g[1],O=r.a.useState(""),w=Object(j.a)(O,2),v=w[0],y=w[1],k=r.a.useState("phoneNumber"),z=Object(j.a)(k,2),S=z[0],C=z[1],_=Object(b.a)(["token"]),T=Object(j.a)(_,2),D=T[0],A=T[1],E=r.a.useState(!1),F=Object(j.a)(E,2),M=F[0],P=F[1],I=r.a.useCallback(Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(a,l,x);case 2:null===(n=t.sent)?P(!0):("success"===n.status&&(console.log("setting cookie to ".concat(n.token)),A("token",n.token,{secure:!0}),"payment_method_requested"===n.state?e.push("/payment"):(console.log("redirecting to home"),e.push("/"))),console.log(n),console.log(n.status),C(n.status),P(!1));case 4:case"end":return t.stop()}}),t)}))),[e,x,a,l,A]),R=r.a.useCallback((function(){return"phoneNumber"===S?Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(N.a,{textAlign:"center",size:"small",children:"Enter phone number."}),Object(te.jsx)(le.a,{icon:Object(te.jsx)(oe.a,{}),placeholder:"(555) 555-5555",size:"small",value:a,onChange:function(e){c(e.target.value)}}),M?Object(te.jsx)(N.a,{size:"small",children:"Invalid phone number."}):null]}):"2fa"===S?Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(N.a,{textAlign:"center",size:"small",children:"We've texted you a secret code, enter it below."}),Object(te.jsx)(le.a,{icon:Object(te.jsx)(K.a,{}),placeholder:"123456",size:"small",value:l,onChange:function(e){o(e.target.value)}}),M?Object(te.jsx)(N.a,{size:"small",children:"Invalid secret code."}):null]}):"password"===S?Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(N.a,{textAlign:"center",size:"small",children:"Enter password."}),Object(te.jsx)(le.a,{icon:Object(te.jsx)(ue.a,{}),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",size:"small",value:x,onChange:function(e){p(e.target.value),y(e.target.value)},type:"password"}),M?Object(te.jsx)(N.a,{size:"small",children:"Invalid password. If you'd like us to reset it, give us a text at (650) 667-1146."}):null]}):"register"===S?Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(N.a,{textAlign:"center",size:"small",children:"Create your password."}),Object(te.jsx)(le.a,{icon:Object(te.jsx)(ue.a,{}),placeholder:"Enter password",size:"small",value:x,onChange:function(e){p(e.target.value)},type:"password"}),Object(te.jsx)(le.a,{icon:Object(te.jsx)(ue.a,{}),placeholder:"Type it again",size:"small",value:v,onChange:function(e){y(e.target.value)},type:"password"}),x!==v?Object(te.jsx)(N.a,{size:"small",children:"Passwords don't match."}):null]}):void 0}),[M,S,x,v,a,l]);return D.token?Object(te.jsx)(h.a,{to:"/"}):Object(te.jsxs)(L.a,{height:"100vh",flex:"grow",background:{position:"center",dark:!1,opacity:"strong"},children:[Object(te.jsxs)(L.a,{height:"40vh",align:"center",justify:"center",pad:"large",children:[Object(te.jsx)(N.a,{children:"welcome to"}),Object(te.jsx)(W.a,{children:"coherence"})]}),Object(te.jsxs)(L.a,{height:"60vh",align:"center",justify:"between",background:{color:"brand",dark:!0},pad:"large",children:[Object(te.jsx)(N.a,{color:"white",textAlign:"center",children:"Peace of mind with your medications is just around the corner."}),Object(te.jsxs)(L.a,{children:[Object(te.jsx)(L.a,{width:"200px",margin:{bottom:"medium",top:"xsmall"},children:R()}),Object(te.jsx)(H.a,{label:"submit",icon:Object(te.jsx)(de.a,{}),onClick:I,disabled:x!==v})]})]})]})},be=n(31),he=n(141),me=function(e){var t=e.submitText,n=e.clientSecret,a=e.afterSubmitAction,c=e.payOnSubmit;console.log(c);var i=Object(be.useStripe)(),s=Object(be.useElements)(),l=r.a.useState(!1),o=Object(j.a)(l,2),b=o[0],h=o[1],m=r.a.useState(!1),g=Object(j.a)(m,2),x=g[0],p=g[1],O=r.a.useCallback(Object(d.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.getElement(be.CardElement),h(!0),a=null,!c){e.next=10;break}return console.log("in here"),e.next=7,i.confirmCardPayment(n,{payment_method:{card:t,billing_details:{name:"Peter Lu"}},setup_future_usage:"off_session"});case 7:a=e.sent,e.next=14;break;case 10:return console.log("calling confirm card setup"),e.next=13,i.confirmCardSetup(n,{payment_method:{card:t,billing_details:{name:"Peter Lu"}}});case 13:a=e.sent;case 14:h(!1),console.log(a);case 16:case"end":return e.stop()}}),e)}))),[n,s,c,i]);return i&&s?Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(be.CardElement,{onReady:function(){p(!0)}}),x?Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(ie,{label:t||"Save payment information",onClick:Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return e.next=4,O();case 4:a();case 5:case"end":return e.stop()}}),e)}))),animating:b}),b?Object(te.jsx)(N.a,{children:"Submitting your payment information. Please do not close this window."}):null]}):Object(te.jsx)(re.a,{})]}):Object(te.jsx)(re.a,{})},ge=function(){var e=r.a.useState(!0),t=Object(j.a)(e,2),n=t[0],a=t[1],c=r.a.useState(!1),i=Object(j.a)(c,2),s=i[0],l=i[1],o=r.a.useState(null),m=Object(j.a)(o,2),g=m[0],x=m[1],p=r.a.useState(!1),O=Object(j.a)(p,2),f=O[0],w=O[1];console.log("card modal visible"),console.log(f);var v=Object(b.a)(["token"]),k=Object(j.a)(v,3),z=(k[0],k[1],k[2]),S=Object(h.g)(),C=r.a.useCallback(Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,y();case 3:null===(t=e.sent)&&(z("token"),S.push("/login")),console.log(t.state),["intro","dose_windows_requested","dose_window_times_requested","timezone_requested"].includes(t.state)&&S.push("/finishOnboarding"),x(t),a(!1),l(!1);case 10:case"end":return e.stop()}}),e)}))),[S,z]),_=r.a.useMemo((function(){return null!==g?Object(he.a)(g.publishable_key):null}),[g]);return r.a.useEffect((function(){n&&C()}),[C,n]),n?Object(te.jsx)(re.a,{}):"payment_verification_pending"===g.secondary_state?Object(te.jsx)(N.a,{children:"We're verifying your payment information. You'll get a text when you're verified with further instructions. Thanks for your patience!"}):"payment_method_requested"===g.state?Object(te.jsx)(be.Elements,{stripe:_,children:Object(te.jsxs)(L.a,{padding:"large",children:[Object(te.jsx)(W.a,{size:"small",children:"Enter payment information"}),Object(te.jsx)(N.a,{children:"Looking forward to helping you with your medication. If you have any questions before signing up, please reach out to us over text at (650) 667-1146."}),Object(te.jsx)(me,{submitText:"Start Coherence subscription ($6.99)",clientSecret:g.client_secret,afterSubmitAction:C,payOnSubmit:!0})]})}):["paused","active","subscription_expired"].includes(g.state)?Object(te.jsxs)(L.a,{margin:"large",children:[Object(te.jsx)(W.a,{size:"small",children:"Manage your subscription"}),"subscription_expired"===g.state?Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)(N.a,{alignSelf:"center",children:["Your subscription expired on ",ee.DateTime.fromHTTP(g.subscription_end_date).toLocaleString(ee.DateTime.DATE_MED)]}),g.payment_method?Object(te.jsx)(ie,{label:"Renew for $6.99",onClick:Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),console.log("attempting to renew subscription"),e.next=4,T();case 4:return e.next=6,A();case 6:a(!0);case 7:case"end":return e.stop()}}),e)}))),animating:s}):Object(te.jsx)(N.a,{children:"Enter payment data for renewal"})]}):g.payment_method?Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)(N.a,{alignSelf:"center",children:["Your subscription will be automatically renewed on ",ee.DateTime.fromHTTP(g.subscription_end_date).toLocaleString(ee.DateTime.DATE_MED),"."]}),Object(te.jsxs)(N.a,{alignSelf:"center",children:["Payment data on file: ",g.payment_method.brand," ending in ",g.payment_method.last4]})]}):Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)(N.a,{alignSelf:"center",children:["Your free trial will end on ",ee.DateTime.fromHTTP(g.subscription_end_date).toLocaleString(ee.DateTime.DATE_MED),"."]}),Object(te.jsx)(H.a,{label:"Enter payment information",onClick:function(){w(!0)}}),f?Object(te.jsx)(G.a,{responsive:!1,onEsc:function(){return w(!1)},onClickOutside:function(){return w(!1)},animation:!1,children:Object(te.jsxs)(L.a,{width:"90vw",pad:"large",children:[Object(te.jsxs)(L.a,{direction:"row",justify:"between",children:[Object(te.jsx)(N.a,{size:"large",children:"Enter credit card information"}),Object(te.jsx)(H.a,{icon:Object(te.jsx)($.a,{}),onClick:function(){return w(!1)}})]}),Object(te.jsx)(be.Elements,{stripe:_,children:Object(te.jsx)(me,{submitText:"Add card (will be charged on ".concat(ee.DateTime.fromHTTP(g.subscription_end_date).toLocaleString(ee.DateTime.DATE_MED),".)"),clientSecret:g.client_secret,afterSubmitAction:Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:w(!1);case 3:case"end":return e.stop()}}),e)}))),payOnSubmit:!1})})]})}):null]}),Object(te.jsxs)(L.a,{direction:"row",justify:"between",children:[Object(te.jsx)(H.a,{label:"Go back",margin:{vertical:"small"},onClick:function(){S.push("/")}}),Object(te.jsx)(H.a,{label:g.payment_method?"Cancel subscription":"Stop free trial",margin:{vertical:"small"},onClick:Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:a(!0);case 3:case"end":return e.stop()}}),e)})))})]})]}):void 0},xe=function(){return Object(te.jsx)(N.a,{children:"Finish onboarding over text before continuing."})},pe=n(40),Oe=n(293),fe=n(314),we=n(302),ve=n(303),ye=function(e){var t=e.size;console.log(t);var n=r.a.useState(""),a=Object(j.a)(n,2),c=a[0],i=a[1],s=r.a.useState(""),l=Object(j.a)(s,2),o=l[0],b=l[1],m=r.a.useState(""),g=Object(j.a)(m,2),x=g[0],p=g[1],O=r.a.useState(""),f=Object(j.a)(O,2),w=f[0],v=f[1],y=r.a.useState(!1),k=Object(j.a)(y,2),z=k[0],S=k[1],C=r.a.useState(!1),_=Object(j.a)(C,2),T=_[0],D=_[1],A=Object(h.g)();return"large"===t||"xlarge"===t?Object(te.jsxs)(L.a,{children:[Object(te.jsxs)(L.a,{margin:{horizontal:"small"},direction:"row",justify:"between",children:[Object(te.jsx)(W.a,{size:"small",children:"\ud83d\udc8a coherence"}),Object(te.jsxs)(L.a,{direction:"row",align:"center",children:[Object(te.jsx)(N.a,{margin:{right:"medium"},children:"Already have an account?"}),Object(te.jsx)(H.a,{label:"login",onClick:function(){A.push("/login")}})]})]}),Object(te.jsx)(L.a,{align:"center",children:Object(te.jsxs)(L.a,{direction:"row",justify:"evenly",align:"center",fill:"horizontal",children:[Object(te.jsxs)(L.a,{direction:"column",width:"medium",margin:"small",children:[Object(te.jsx)(W.a,{size:"small",children:"Peace of mind with your medication."}),Object(te.jsx)(N.a,{children:"Your personal medication companion is here at last. No more struggling with annoying alarms. No more wondering whether you've taken a dose or not."}),Object(te.jsx)(L.a,{align:"center",children:Object(te.jsx)(H.a,{label:"Try it out!",primary:!0,href:"#signup"})})]}),Object(te.jsx)(L.a,{width:"medium",direction:"row",margin:"small",children:Object(te.jsx)(fe.a,{fit:"contain",src:"https://uploads-ssl.webflow.com/6033f4ad7e2c0743cd74dfb1/6058b37cab7185d821f3d2df_Coherence%20reminder%20flow-p-800.png"})})]})}),Object(te.jsxs)(L.a,{background:"brand",margin:{top:"large"},align:"center",children:[Object(te.jsx)(W.a,{size:"small",textAlign:"center",children:"Here's what makes us different."}),Object(te.jsxs)(L.a,{direction:"row",fill:"horizontal",justify:"around",children:[Object(te.jsxs)(L.a,{direction:"column",align:"center",margin:"large",children:[Object(te.jsx)(we.a,{size:"large"}),Object(te.jsx)(N.a,{textAlign:"center",children:"Collaborative"})]}),Object(te.jsxs)(L.a,{direction:"column",align:"center",margin:"large",children:[Object(te.jsx)(Q.a,{size:"large"}),Object(te.jsx)(N.a,{textAlign:"center",children:"No apps needed"})]}),Object(te.jsxs)(L.a,{direction:"column",align:"center",margin:"large",children:[Object(te.jsx)(ve.a,{size:"large"}),Object(te.jsx)(N.a,{textAlign:"center",children:"Personalized"})]})]})]}),Object(te.jsx)(L.a,{align:"center",children:Object(te.jsx)(W.a,{size:"small",children:"More than just a reminder."})}),Object(te.jsx)(L.a,{align:"center",children:Object(te.jsx)(L.a,{width:"xlarge",children:Object(te.jsx)(fe.a,{alignSelf:"center",width:"90%",src:"https://i.ibb.co/G0Q0KK0/Slice-3-3.png"})})}),Object(te.jsxs)(L.a,{background:"brand",id:"signup",align:"center",pad:"large",children:[Object(te.jsx)(W.a,{size:"small",textAlign:"center",children:"We can't wait to be a part of your medication journey."}),Object(te.jsx)(N.a,{textAlign:"center",children:"Coherence is available now for $6.99 / month. Sign up below for more information!"}),Object(te.jsxs)(L.a,{width:"large",children:[Object(te.jsx)(N.a,{children:"Name"}),Object(te.jsx)(le.a,{placeholder:"John",value:c,onChange:function(e){i(e.target.value)}}),Object(te.jsx)(N.a,{children:"Email address"}),Object(te.jsx)(le.a,{placeholder:"john@gmail.com",value:o,onChange:function(e){b(e.target.value)}}),Object(te.jsx)(N.a,{children:"Phone number"}),Object(te.jsx)(le.a,{placeholder:"(123)456-7890",value:x,onChange:function(e){p(e.target.value)}}),Object(te.jsx)(N.a,{children:"Free trial code (optional)"}),Object(te.jsx)(le.a,{value:w,onChange:function(e){v(e.target.value)}}),Object(te.jsx)(L.a,{width:"small",alignSelf:"center",margin:{vertical:"large"},children:Object(te.jsx)(H.a,{label:"sign up",primary:!0})})]})]})]}):"medium"===t?Object(te.jsxs)(L.a,{children:[Object(te.jsxs)(L.a,{margin:{horizontal:"small"},direction:"row",justify:"between",children:[Object(te.jsx)(W.a,{size:"small",children:"\ud83d\udc8a coherence"}),Object(te.jsx)(L.a,{direction:"row",align:"center",children:Object(te.jsx)(H.a,{label:"login",onClick:function(){A.push("/login")}})})]}),Object(te.jsx)(L.a,{align:"center",children:Object(te.jsxs)(L.a,{direction:"row",justify:"evenly",align:"center",fill:"horizontal",children:[Object(te.jsxs)(L.a,{direction:"column",width:"medium",margin:"small",children:[Object(te.jsx)(W.a,{size:"small",children:"Peace of mind with your medication."}),Object(te.jsx)(N.a,{children:"Your personal medication companion is here at last. No more struggling with annoying alarms. No more wondering whether you've taken a dose or not."}),Object(te.jsx)(L.a,{align:"center",children:Object(te.jsx)(H.a,{label:"Try it out!",primary:!0,href:"#signup"})})]}),Object(te.jsx)(L.a,{width:"medium",direction:"row",margin:"small",children:Object(te.jsx)(fe.a,{fit:"contain",src:"https://uploads-ssl.webflow.com/6033f4ad7e2c0743cd74dfb1/6058b37cab7185d821f3d2df_Coherence%20reminder%20flow-p-800.png"})})]})}),Object(te.jsxs)(L.a,{background:"brand",margin:{top:"large"},align:"center",children:[Object(te.jsx)(W.a,{size:"small",textAlign:"center",children:"Here's what makes us different."}),Object(te.jsxs)(L.a,{direction:"row",fill:"horizontal",justify:"around",children:[Object(te.jsxs)(L.a,{direction:"column",align:"center",margin:"large",children:[Object(te.jsx)(we.a,{size:"large"}),Object(te.jsx)(N.a,{textAlign:"center",children:"Collaborative"})]}),Object(te.jsxs)(L.a,{direction:"column",align:"center",margin:"large",children:[Object(te.jsx)(Q.a,{size:"large"}),Object(te.jsx)(N.a,{textAlign:"center",children:"No apps needed"})]}),Object(te.jsxs)(L.a,{direction:"column",align:"center",margin:"large",children:[Object(te.jsx)(ve.a,{size:"large"}),Object(te.jsx)(N.a,{textAlign:"center",children:"Personalized"})]})]})]}),Object(te.jsx)(L.a,{align:"center",children:Object(te.jsx)(W.a,{size:"small",children:"More than just a reminder."})}),Object(te.jsx)(L.a,{align:"center",children:Object(te.jsx)(L.a,{width:"xlarge",children:Object(te.jsx)(fe.a,{alignSelf:"center",width:"90%",src:"https://i.ibb.co/G0Q0KK0/Slice-3-3.png"})})}),Object(te.jsxs)(L.a,{background:"brand",id:"signup",align:"center",pad:"large",children:[Object(te.jsx)(W.a,{size:"small",textAlign:"center",children:"We can't wait to be a part of your medication journey."}),Object(te.jsx)(N.a,{textAlign:"center",children:"Coherence is available now for $6.99 / month. Sign up below for more information!"}),Object(te.jsxs)(L.a,{width:"large",children:[Object(te.jsx)(N.a,{children:"Name"}),Object(te.jsx)(le.a,{placeholder:"Kari",value:c,onChange:function(e){i(e.target.value)}}),Object(te.jsx)(N.a,{children:"Email address"}),Object(te.jsx)(le.a,{placeholder:"kari@gmail.com",value:o,onChange:function(e){b(e.target.value)}}),Object(te.jsx)(N.a,{children:"Phone number"}),Object(te.jsx)(le.a,{placeholder:"(123) 456-7890",value:x,onChange:function(e){p(e.target.value)}}),Object(te.jsx)(N.a,{children:"Free trial code (optional)"}),Object(te.jsx)(le.a,{value:w,onChange:function(e){v(e.target.value)}}),Object(te.jsx)(L.a,{width:"small",alignSelf:"center",margin:{vertical:"large"},children:Object(te.jsx)(H.a,{label:"sign up",primary:!0})})]})]}),Object(te.jsx)(L.a,{direction:"row",children:Object(te.jsx)(W.a,{children:"coherence"})})]}):"small"===t||"xsmall"===t?Object(te.jsxs)(L.a,{children:[Object(te.jsxs)(L.a,{margin:{horizontal:"large"},direction:"row",justify:"between",children:[Object(te.jsx)(W.a,{size:"small",children:"\ud83d\udc8a coherence"}),Object(te.jsx)(L.a,{direction:"row",align:"center",children:Object(te.jsx)(H.a,{label:"login",onClick:function(){A.push("/login")}})})]}),Object(te.jsx)(L.a,{align:"center",children:Object(te.jsxs)(L.a,{direction:"column",align:"center",fill:"horizontal",children:[Object(te.jsxs)(L.a,{direction:"column",margin:"large",children:[Object(te.jsx)(W.a,{children:"Peace of mind with your medication."}),Object(te.jsx)(N.a,{children:"Your personal medication companion is here at last. No more struggling with annoying alarms. No more wondering whether you've taken a dose or not."}),Object(te.jsx)(L.a,{align:"center",children:Object(te.jsx)(H.a,{label:"Try it out!",primary:!0,href:"#signup"})})]}),Object(te.jsx)(L.a,{direction:"row",width:"90%",margin:{bottom:"medium"},children:Object(te.jsx)(fe.a,{width:"100%",height:"100%",src:"https://uploads-ssl.webflow.com/6033f4ad7e2c0743cd74dfb1/6058b37cab7185d821f3d2df_Coherence%20reminder%20flow-p-800.png"})})]})}),Object(te.jsxs)(L.a,{background:"brand",children:[Object(te.jsx)(W.a,{size:"medium",textAlign:"center",children:"Here's what makes us different."}),Object(te.jsxs)(L.a,{direction:"row",children:[Object(te.jsxs)(L.a,{direction:"column",align:"center",margin:"large",children:[Object(te.jsx)(we.a,{size:"large"}),Object(te.jsx)(N.a,{textAlign:"center",size:"small",children:"Collaborative"})]}),Object(te.jsxs)(L.a,{direction:"column",align:"center",margin:"large",children:[Object(te.jsx)(Q.a,{size:"large"}),Object(te.jsx)(N.a,{textAlign:"center",size:"small",children:"No apps needed"})]}),Object(te.jsxs)(L.a,{direction:"column",align:"center",margin:"large",children:[Object(te.jsx)(ve.a,{size:"large"}),Object(te.jsx)(N.a,{textAlign:"center",size:"small",children:"Personalized"})]})]})]}),Object(te.jsx)(L.a,{align:"center",margin:{horizontal:"small"},children:Object(te.jsx)(W.a,{textAlign:"center",children:"More than just a reminder."})}),Object(te.jsx)(L.a,{align:"center",children:Object(te.jsx)(L.a,{width:"xlarge",children:Object(te.jsx)(fe.a,{alignSelf:"center",width:"90%",src:"https://i.ibb.co/G0Q0KK0/Slice-3-3.png"})})}),Object(te.jsx)(L.a,{background:"brand",id:"signup",children:Object(te.jsxs)(L.a,{align:"center",margin:"small",children:[Object(te.jsx)(W.a,{size:"small",textAlign:"center",children:"We can't wait to be a part of your medication journey."}),Object(te.jsx)(N.a,{textAlign:"center",children:"Coherence is available now for $6.99 / month. Sign up below for more information!"}),T?Object(te.jsx)(L.a,{width:"large",background:"white",round:!0,pad:"large",children:Object(te.jsx)(N.a,{textAlign:"center",children:"We've received your submission and will reach out to you shortly to complete signup. We can't wait for you to try Coherence!"})}):Object(te.jsxs)(L.a,{width:"large",children:[Object(te.jsx)(N.a,{children:"Name"}),Object(te.jsx)(le.a,{placeholder:"John",value:c,onChange:function(e){i(e.target.value)}}),Object(te.jsx)(N.a,{children:"Email address"}),Object(te.jsx)(le.a,{placeholder:"john@gmail.com",value:o,onChange:function(e){b(e.target.value)}}),Object(te.jsx)(N.a,{children:"Phone number"}),Object(te.jsx)(le.a,{placeholder:"(123)456-7890",value:x,onChange:function(e){p(e.target.value)}}),Object(te.jsx)(N.a,{children:"Free trial code (optional)"}),Object(te.jsx)(le.a,{value:w,onChange:function(e){v(e.target.value)}}),Object(te.jsx)(L.a,{width:"small",alignSelf:"center",margin:{vertical:"large"},children:Object(te.jsx)(ie,{label:"vpc30"===w.toLowerCase()?"sign up for 30-day free trial":w?"Invalid free trial code":"sign up",primary:!0,disabled:""!==w&&"vpc30"!==w.toLowerCase(),color:w&&"vpc30"!==w.toLowerCase()?"status-error":"status-ok",animating:z,onClick:Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,E(c,o,x,w);case 3:S(!1),D(!0);case 5:case"end":return e.stop()}}),e)})))})})]})]})})]}):void 0},ke=function(){return Object(te.jsx)(pe.a,{children:Object(te.jsxs)(h.d,{children:[Object(te.jsx)(h.b,{exact:!0,path:"/",render:function(){return Object(te.jsx)(se,{})}}),Object(te.jsx)(h.b,{exact:!0,path:"/login",render:function(){return Object(te.jsx)(je,{})}}),Object(te.jsx)(h.b,{exact:!0,path:"/payment",render:function(){return Object(te.jsx)(ge,{})}}),Object(te.jsx)(h.b,{exact:!0,path:"/finishOnboarding",render:function(){return Object(te.jsx)(xe,{})}}),Object(te.jsx)(h.b,{exact:!0,path:"/landing",render:function(){return Object(te.jsx)(Oe.a.Consumer,{children:function(e){return Object(te.jsx)(ye,{size:e})}})}})]})})},ze=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,315)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},Se=n(304),Ce=n(309);i.a.render(Object(te.jsx)(r.a.StrictMode,{children:Object(te.jsx)(Se.a,{children:Object(te.jsx)(Ce.a,{theme:{global:{colors:{brand:"#002864",text:{light:"#002864"},paragraph:{light:"#002864"},background:"#FFF"},breakpoints:{xsmall:{value:375},small:{value:400},medium:{value:768},large:{value:1024},xlarge:{value:1366}}},spinner:{container:{color:{light:"#002864",dark:"FFF"}}}},themeMode:"light",children:Object(te.jsx)(ke,{})})})}),document.getElementById("root")),ze()}},[[270,1,2]]]);
//# sourceMappingURL=main.5266c8ca.chunk.js.map